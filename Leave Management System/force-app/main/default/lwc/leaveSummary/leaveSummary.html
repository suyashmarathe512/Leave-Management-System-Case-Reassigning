<template>
    <!-- My Leave Balances bar -->
    <lightning-card title="My Leave Balances" class="lm-card">
        <div class="slds-p-around_medium slds-grid slds-wrap balance-row">
            <!-- Balance This Year card -->
            <div class="slds-col slds-size_1-of-2 slds-large-size_1-of-4 balance-card">
                <div class="balance-card-inner">
                    <div class="icon-wrapper">
                        <lightning-icon icon-name="utility:calendar" size="small"></lightning-icon>
                    </div>
                    <div class="balance-text">
                        <div class="balance-label">Balance This Year</div>
                        <div class="balance-value">
                            <span class="balance-number">{earned}</span>
                            <span class="balance-unit">Earned</span>
                        </div>
                        <div class="balance-value">
                            <span class="balance-number">{sick}</span>
                            <span class="balance-unit">Sick</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Booked Leaves card -->
            <div class="slds-col slds-size_1-of-2 slds-large-size_1-of-4 balance-card">
                <div class="balance-card-inner">
                    <div class="icon-wrapper">
                        <lightning-icon icon-name="utility:check" size="small"></lightning-icon>
                    </div>
                    <div class="balance-text">
                        <div class="balance-label">Booked Leaves</div>
                        <div class="balance-value">
                            <span class="balance-number">{bookedEarned}</span>
                            <span class="balance-unit">Earned</span>
                        </div>
                        <div class="balance-value">
                            <span class="balance-number">{bookedSick}</span>
                            <span class="balance-unit">Sick</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Available Leaves card -->
            <div class="slds-col slds-size_1-of-2 slds-large-size_1-of-4 balance-card">
                <div class="balance-card-inner">
                    <div class="icon-wrapper">
                        <lightning-icon icon-name="utility:clock" size="small"></lightning-icon>
                    </div>
                    <div class="balance-text">
                        <div class="balance-label">Available Leaves</div>
                        <div class="balance-value">
                            <span class="balance-number">{availableEarned}</span>
                            <span class="balance-unit">Earned</span>
                        </div>
                        <div class="balance-value">
                            <span class="balance-number">{availableSick}</span>
                            <span class="balance-unit">Sick</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unpaid Leave card -->
            <div class="slds-col slds-size_1-of-2 slds-large-size_1-of-4 balance-card">
                <div class="balance-card-inner">
                    <div class="icon-wrapper">
                        <lightning-icon icon-name="utility:currency" size="small"></lightning-icon>
                    </div>
                    <div class="balance-text">
                        <div class="balance-label">Unpaid Leave</div>
                        <div class="balance-value">
                            <span class="balance-number">{bookedUnpaid}</span>
                            <span class="balance-unit">Days Booked</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </lightning-card>

    <!-- Leave Requests table like the sample app -->
    <lightning-card title="Leave Requests" class="lm-card">
        <div slot="actions">
            <!-- Apply Leave button on the right, like the + button in the screenshot -->
            <lightning-button-icon
                icon-name="utility:add"
                alternative-text="Apply Leave"
                variant="brand"
                onclick={handleApplyLeave}>
            </lightning-button-icon>
        </div>
        <lightning-datatable
            key-field="Id"
            data={leaves.data}
            columns={columns}
            hide-checkbox-column>
        </lightning-datatable>
    </lightning-card>
</template>
